{"ast":null,"code":"import _defineProperty from\"/Users/randyyono/Desktop/shopping-cart-react-main-copy/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/randyyono/Desktop/shopping-cart-react-main-copy/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/randyyono/Desktop/shopping-cart-react-main-copy/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useState}from\"react\";import{PRODUCTS}from\"../products\";import{jsx as _jsx}from\"react/jsx-runtime\";export var ShopContext=/*#__PURE__*/createContext(null);var defaultCart=Object.fromEntries(PRODUCTS.map(function(product){return[product.id,0];}));export var ShopContextProvider=function ShopContextProvider(_ref){var children=_ref.children;var _useState=useState(defaultCart),_useState2=_slicedToArray(_useState,2),cartItems=_useState2[0],setCartItems=_useState2[1];var getTotalCartAmount=function getTotalCartAmount(){return Object.entries(cartItems).reduce(function(total,_ref2){var _ref3=_slicedToArray(_ref2,2),itemId=_ref3[0],quantity=_ref3[1];return total+PRODUCTS.find(function(product){return product.id===Number(itemId);}).price*quantity;},0);};var addToCart=function addToCart(itemId){return setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,prev[itemId]+1));});};var removeFromCart=function removeFromCart(itemId){return setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,prev[itemId]-1));});};var updateCartItemCount=function updateCartItemCount(newAmount,itemId){return setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,newAmount));});};var checkout=function checkout(){setCartItems(defaultCart);};var contextValue={cartItems:cartItems,addToCart:addToCart,updateCartItemCount:updateCartItemCount,removeFromCart:removeFromCart,getTotalCartAmount:getTotalCartAmount,checkout:checkout};return/*#__PURE__*/_jsx(ShopContext.Provider,{value:contextValue,children:children});};","map":{"version":3,"names":["createContext","useState","PRODUCTS","ShopContext","defaultCart","Object","fromEntries","map","product","id","ShopContextProvider","children","cartItems","setCartItems","getTotalCartAmount","entries","reduce","total","itemId","quantity","find","Number","price","addToCart","prev","removeFromCart","updateCartItemCount","newAmount","checkout","contextValue"],"sources":["/Users/randyyono/Desktop/shopping-cart-react-main-copy/client/src/context/shop-context.jsx"],"sourcesContent":["import { createContext, useState } from \"react\";\nimport { PRODUCTS } from \"../products\";\n\nexport const ShopContext = createContext(null);\n\nconst defaultCart = Object.fromEntries(PRODUCTS.map(product => [product.id, 0]));\n\nexport const ShopContextProvider = ({ children }) => {\n  const [cartItems, setCartItems] = useState(defaultCart);\n\n  const getTotalCartAmount = () =>\n    Object.entries(cartItems).reduce(\n      (total, [itemId, quantity]) =>\n        total + PRODUCTS.find((product) => product.id === Number(itemId)).price * quantity,\n      0\n    );\n\n  const addToCart = (itemId) =>\n    setCartItems((prev) => ({ ...prev, [itemId]: prev[itemId] + 1 }));\n\n  const removeFromCart = (itemId) =>\n    setCartItems((prev) => ({ ...prev, [itemId]: prev[itemId] - 1 }));\n\n  const updateCartItemCount = (newAmount, itemId) =>\n    setCartItems((prev) => ({ ...prev, [itemId]: newAmount }));\n\n  const checkout = () => {\n    setCartItems(defaultCart);\n  };\n\n  const contextValue = {\n    cartItems,\n    addToCart,\n    updateCartItemCount,\n    removeFromCart,\n    getTotalCartAmount,\n    checkout,\n  };\n\n  return <ShopContext.Provider value={contextValue}>{children}</ShopContext.Provider>;\n};\n"],"mappings":"0bAAA,OAASA,aAAa,CAAEC,QAAQ,KAAQ,OAAO,CAC/C,OAASC,QAAQ,KAAQ,aAAa,CAAC,2CAEvC,MAAO,IAAMC,YAAW,cAAGH,aAAa,CAAC,IAAI,CAAC,CAE9C,GAAMI,YAAW,CAAGC,MAAM,CAACC,WAAW,CAACJ,QAAQ,CAACK,GAAG,CAAC,SAAAC,OAAO,QAAI,CAACA,OAAO,CAACC,EAAE,CAAE,CAAC,CAAC,GAAC,CAAC,CAEhF,MAAO,IAAMC,oBAAmB,CAAG,QAAtBA,oBAAmB,MAAqB,IAAfC,SAAQ,MAARA,QAAQ,CAC5C,cAAkCV,QAAQ,CAACG,WAAW,CAAC,wCAAhDQ,SAAS,eAAEC,YAAY,eAE9B,GAAMC,mBAAkB,CAAG,QAArBA,mBAAkB,SACtBT,OAAM,CAACU,OAAO,CAACH,SAAS,CAAC,CAACI,MAAM,CAC9B,SAACC,KAAK,0CAAGC,MAAM,UAAEC,QAAQ,gBACvBF,MAAK,CAAGf,QAAQ,CAACkB,IAAI,CAAC,SAACZ,OAAO,QAAKA,QAAO,CAACC,EAAE,GAAKY,MAAM,CAACH,MAAM,CAAC,GAAC,CAACI,KAAK,CAAGH,QAAQ,GACpF,CAAC,CACF,GAEH,GAAMI,UAAS,CAAG,QAAZA,UAAS,CAAIL,MAAM,QACvBL,aAAY,CAAC,SAACW,IAAI,wCAAWA,IAAI,wBAAGN,MAAM,CAAGM,IAAI,CAACN,MAAM,CAAC,CAAG,CAAC,IAAG,CAAC,GAEnE,GAAMO,eAAc,CAAG,QAAjBA,eAAc,CAAIP,MAAM,QAC5BL,aAAY,CAAC,SAACW,IAAI,wCAAWA,IAAI,wBAAGN,MAAM,CAAGM,IAAI,CAACN,MAAM,CAAC,CAAG,CAAC,IAAG,CAAC,GAEnE,GAAMQ,oBAAmB,CAAG,QAAtBA,oBAAmB,CAAIC,SAAS,CAAET,MAAM,QAC5CL,aAAY,CAAC,SAACW,IAAI,wCAAWA,IAAI,wBAAGN,MAAM,CAAGS,SAAS,IAAG,CAAC,GAE5D,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACrBf,YAAY,CAACT,WAAW,CAAC,CAC3B,CAAC,CAED,GAAMyB,aAAY,CAAG,CACnBjB,SAAS,CAATA,SAAS,CACTW,SAAS,CAATA,SAAS,CACTG,mBAAmB,CAAnBA,mBAAmB,CACnBD,cAAc,CAAdA,cAAc,CACdX,kBAAkB,CAAlBA,kBAAkB,CAClBc,QAAQ,CAARA,QACF,CAAC,CAED,mBAAO,KAAC,WAAW,CAAC,QAAQ,EAAC,KAAK,CAAEC,YAAa,UAAElB,QAAQ,EAAwB,CACrF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}