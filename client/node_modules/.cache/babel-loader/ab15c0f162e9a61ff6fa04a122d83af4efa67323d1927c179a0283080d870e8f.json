{"ast":null,"code":"import _defineProperty from\"/Users/randyyono/Desktop/ragid-shop/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/randyyono/Desktop/ragid-shop/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/randyyono/Desktop/ragid-shop/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useState}from\"react\";import{PRODUCTS}from\"../products\";import{jsx as _jsx}from\"react/jsx-runtime\";export var ShopContext=/*#__PURE__*/createContext(null);var defaultCart=Object.fromEntries(PRODUCTS.map(function(product){return[product.id,{quantity:0,price:product.defaultOption?product.defaultOption.price:product.price}];}));export var ShopContextProvider=function ShopContextProvider(_ref){var children=_ref.children;var _useState=useState(defaultCart),_useState2=_slicedToArray(_useState,2),cartItems=_useState2[0],setCartItems=_useState2[1];var getTotalCartAmount=function getTotalCartAmount(){return Object.entries(cartItems).reduce(function(total,_ref2){var _ref3=_slicedToArray(_ref2,2),itemId=_ref3[0],_ref3$=_ref3[1],quantity=_ref3$.quantity,price=_ref3$.price;return total+PRODUCTS.find(function(product){return product.id===Number(itemId);}).price*quantity;},0);};var addToCart=function addToCart(itemId,selectedOptionPrice){var price=selectedOptionPrice||cartItems[itemId].price;setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,{quantity:prev[itemId].quantity+1,price:price}));});};var removeFromCart=function removeFromCart(itemId){setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,{quantity:prev[itemId].quantity-1,price:prev[itemId].price}));});};var updateCartItemCount=function updateCartItemCount(newAmount,itemId){return setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,{quantity:newAmount,price:prev[itemId].price}));});};var checkout=function checkout(){setCartItems(defaultCart);};var contextValue={cartItems:cartItems,addToCart:addToCart,updateCartItemCount:updateCartItemCount,removeFromCart:removeFromCart,getTotalCartAmount:getTotalCartAmount,checkout:checkout};return/*#__PURE__*/_jsx(ShopContext.Provider,{value:contextValue,children:children});};","map":{"version":3,"names":["createContext","useState","PRODUCTS","ShopContext","defaultCart","Object","fromEntries","map","product","id","quantity","price","defaultOption","ShopContextProvider","children","cartItems","setCartItems","getTotalCartAmount","entries","reduce","total","itemId","find","Number","addToCart","selectedOptionPrice","prev","removeFromCart","updateCartItemCount","newAmount","checkout","contextValue"],"sources":["/Users/randyyono/Desktop/ragid-shop/client/src/context/shop-context.jsx"],"sourcesContent":["import { createContext, useState } from \"react\";\nimport { PRODUCTS } from \"../products\";\n\nexport const ShopContext = createContext(null);\n\nconst defaultCart = Object.fromEntries(PRODUCTS.map(product => [product.id, {quantity: 0, price: product.defaultOption ? product.defaultOption.price : product.price}]));\n\nexport const ShopContextProvider = ({ children }) => {\n  const [cartItems, setCartItems] = useState(defaultCart);\n\n  const getTotalCartAmount = () =>\n    Object.entries(cartItems).reduce(\n      (total, [itemId, {quantity, price}]) =>\n        total + PRODUCTS.find((product) => product.id === Number(itemId)).price * quantity,\n      0\n    );\n\n  const addToCart = (itemId, selectedOptionPrice) => {\n    const price = selectedOptionPrice || cartItems[itemId].price;\n    setCartItems((prev) => ({ ...prev, [itemId]: {quantity: prev[itemId].quantity + 1, price} }));\n  };\n\n  const removeFromCart = (itemId) => {\n    setCartItems((prev) => ({ ...prev, [itemId]: {quantity: prev[itemId].quantity - 1, price: prev[itemId].price} }));\n  };\n\n  const updateCartItemCount = (newAmount, itemId) =>\n    setCartItems((prev) => ({ ...prev, [itemId]: {quantity: newAmount, price: prev[itemId].price} }));\n\n  const checkout = () => {\n    setCartItems(defaultCart);\n  };\n\n  const contextValue = {\n    cartItems,\n    addToCart,\n    updateCartItemCount,\n    removeFromCart,\n    getTotalCartAmount,\n    checkout,\n  };\n\n  return <ShopContext.Provider value={contextValue}>{children}</ShopContext.Provider>;\n};\n"],"mappings":"iYAAA,OAASA,aAAa,CAAEC,QAAQ,KAAQ,OAAO,CAC/C,OAASC,QAAQ,KAAQ,aAAa,CAAC,2CAEvC,MAAO,IAAMC,YAAW,cAAGH,aAAa,CAAC,IAAI,CAAC,CAE9C,GAAMI,YAAW,CAAGC,MAAM,CAACC,WAAW,CAACJ,QAAQ,CAACK,GAAG,CAAC,SAAAC,OAAO,QAAI,CAACA,OAAO,CAACC,EAAE,CAAE,CAACC,QAAQ,CAAE,CAAC,CAAEC,KAAK,CAAEH,OAAO,CAACI,aAAa,CAAGJ,OAAO,CAACI,aAAa,CAACD,KAAK,CAAGH,OAAO,CAACG,KAAK,CAAC,CAAC,GAAC,CAAC,CAExK,MAAO,IAAME,oBAAmB,CAAG,QAAtBA,oBAAmB,MAAqB,IAAfC,SAAQ,MAARA,QAAQ,CAC5C,cAAkCb,QAAQ,CAACG,WAAW,CAAC,wCAAhDW,SAAS,eAAEC,YAAY,eAE9B,GAAMC,mBAAkB,CAAG,QAArBA,mBAAkB,SACtBZ,OAAM,CAACa,OAAO,CAACH,SAAS,CAAC,CAACI,MAAM,CAC9B,SAACC,KAAK,0CAAGC,MAAM,0BAAGX,QAAQ,QAARA,QAAQ,CAAEC,KAAK,QAALA,KAAK,OAC/BS,MAAK,CAAGlB,QAAQ,CAACoB,IAAI,CAAC,SAACd,OAAO,QAAKA,QAAO,CAACC,EAAE,GAAKc,MAAM,CAACF,MAAM,CAAC,GAAC,CAACV,KAAK,CAAGD,QAAQ,GACpF,CAAC,CACF,GAEH,GAAMc,UAAS,CAAG,QAAZA,UAAS,CAAIH,MAAM,CAAEI,mBAAmB,CAAK,CACjD,GAAMd,MAAK,CAAGc,mBAAmB,EAAIV,SAAS,CAACM,MAAM,CAAC,CAACV,KAAK,CAC5DK,YAAY,CAAC,SAACU,IAAI,wCAAWA,IAAI,wBAAGL,MAAM,CAAG,CAACX,QAAQ,CAAEgB,IAAI,CAACL,MAAM,CAAC,CAACX,QAAQ,CAAG,CAAC,CAAEC,KAAK,CAALA,KAAK,CAAC,IAAG,CAAC,CAC/F,CAAC,CAED,GAAMgB,eAAc,CAAG,QAAjBA,eAAc,CAAIN,MAAM,CAAK,CACjCL,YAAY,CAAC,SAACU,IAAI,wCAAWA,IAAI,wBAAGL,MAAM,CAAG,CAACX,QAAQ,CAAEgB,IAAI,CAACL,MAAM,CAAC,CAACX,QAAQ,CAAG,CAAC,CAAEC,KAAK,CAAEe,IAAI,CAACL,MAAM,CAAC,CAACV,KAAK,CAAC,IAAG,CAAC,CACnH,CAAC,CAED,GAAMiB,oBAAmB,CAAG,QAAtBA,oBAAmB,CAAIC,SAAS,CAAER,MAAM,QAC5CL,aAAY,CAAC,SAACU,IAAI,wCAAWA,IAAI,wBAAGL,MAAM,CAAG,CAACX,QAAQ,CAAEmB,SAAS,CAAElB,KAAK,CAAEe,IAAI,CAACL,MAAM,CAAC,CAACV,KAAK,CAAC,IAAG,CAAC,GAEnG,GAAMmB,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACrBd,YAAY,CAACZ,WAAW,CAAC,CAC3B,CAAC,CAED,GAAM2B,aAAY,CAAG,CACnBhB,SAAS,CAATA,SAAS,CACTS,SAAS,CAATA,SAAS,CACTI,mBAAmB,CAAnBA,mBAAmB,CACnBD,cAAc,CAAdA,cAAc,CACdV,kBAAkB,CAAlBA,kBAAkB,CAClBa,QAAQ,CAARA,QACF,CAAC,CAED,mBAAO,KAAC,WAAW,CAAC,QAAQ,EAAC,KAAK,CAAEC,YAAa,UAAEjB,QAAQ,EAAwB,CACrF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}