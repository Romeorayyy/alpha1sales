{"ast":null,"code":"import React,{useContext}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{ShopContext}from\"../../context/shop-context\";import{PRODUCTS}from\"../../products\";import\"../../App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductPage=function ProductPage(){var _useParams=useParams(),id=_useParams.id;var product=PRODUCTS.find(function(p){return p.id===Number(id);});var navigate=useNavigate();var _useContext=useContext(ShopContext),cartItems=_useContext.cartItems,addToCart=_useContext.addToCart,updateCartItemCount=_useContext.updateCartItemCount,removeFromCart=_useContext.removeFromCart;var cartItemCount=cartItems[id];if(!product)return/*#__PURE__*/_jsx(\"h2\",{children:\"Product not found.\"});var handleBuyNowClick=function handleBuyNowClick(){if(cartItemCount===0)addToCart(Number(id));navigate(\"/cart\");};return/*#__PURE__*/_jsx(\"div\",{className:styles.productPage,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.productCard,children:[/*#__PURE__*/_jsx(\"img\",{src:product.productImage,alt:product.name}),/*#__PURE__*/_jsx(\"h3\",{children:product.productName}),/*#__PURE__*/_jsx(\"p\",{children:product.description}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: $\",product.price.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.quantityControl,children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return removeFromCart(product.id);},children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:cartItems[product.id],onChange:function onChange(e){return updateCartItemCount(parseInt(e.target.value),product.id);}}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return addToCart(product.id);},children:\"+\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"button\",{className:styles.addToCartBttn,onClick:function onClick(){return addToCart(Number(id));},children:[\"Add To Cart \",cartItemCount>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[\" (\",cartItemCount,\")\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:styles.addToCartBttn,onClick:handleBuyNowClick,children:\"Buy Now\"})]})]})});};export default ProductPage;","map":{"version":3,"names":["React","useContext","useParams","useNavigate","ShopContext","PRODUCTS","ProductPage","id","product","find","p","Number","navigate","cartItems","addToCart","updateCartItemCount","removeFromCart","cartItemCount","handleBuyNowClick","styles","productPage","productCard","productImage","name","productName","description","price","toFixed","quantityControl","e","parseInt","target","value","addToCartBttn"],"sources":["/Users/randyyono/Desktop/shopping-cart-react-main-copy/client/src/pages/product/ProductPage.jsx"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { ShopContext } from \"../../context/shop-context\";\nimport { PRODUCTS } from \"../../products\";\nimport \"../../App.css\"\n\nconst ProductPage = () => {\n  const { id } = useParams();\n  const product = PRODUCTS.find((p) => p.id === Number(id));\n  const navigate = useNavigate();\n  const { cartItems, addToCart, updateCartItemCount, removeFromCart } = useContext(ShopContext);\n  const cartItemCount = cartItems[id];\n\n  if (!product) return <h2>Product not found.</h2>;\n\n  const handleBuyNowClick = () => {\n    if (cartItemCount === 0) addToCart(Number(id));\n    navigate(\"/cart\");\n  };\n\n  return (\n    <div className={styles.productPage}>\n      <div className={styles.productCard}>\n        <img src={product.productImage} alt={product.name} />\n        <h3>{product.productName}</h3>\n        <p>{product.description}</p>\n        <p>Price: ${product.price.toFixed(2)}</p>\n        <div className={styles.quantityControl}>\n          <button onClick={() => removeFromCart(product.id)}>-</button>\n          <input\n            type=\"number\"\n            value={cartItems[product.id]}\n            onChange={(e) => updateCartItemCount(parseInt(e.target.value), product.id)}\n          />\n          <button onClick={() => addToCart(product.id)}>+</button>\n        </div>\n        <div>\n          <button className={styles.addToCartBttn} onClick={() => addToCart(Number(id))}>\n            Add To Cart {cartItemCount > 0 && <> ({cartItemCount})</>}\n          </button>\n          <button className={styles.addToCartBttn} onClick={handleBuyNowClick}>\n            Buy Now\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductPage;\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,UAAU,KAAQ,OAAO,CACzC,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,OAASC,WAAW,KAAQ,4BAA4B,CACxD,OAASC,QAAQ,KAAQ,gBAAgB,CACzC,MAAO,eAAe,8IAEtB,GAAMC,YAAW,CAAG,QAAdA,YAAW,EAAS,CACxB,eAAeJ,SAAS,EAAE,CAAlBK,EAAE,YAAFA,EAAE,CACV,GAAMC,QAAO,CAAGH,QAAQ,CAACI,IAAI,CAAC,SAACC,CAAC,QAAKA,EAAC,CAACH,EAAE,GAAKI,MAAM,CAACJ,EAAE,CAAC,GAAC,CACzD,GAAMK,SAAQ,CAAGT,WAAW,EAAE,CAC9B,gBAAsEF,UAAU,CAACG,WAAW,CAAC,CAArFS,SAAS,aAATA,SAAS,CAAEC,SAAS,aAATA,SAAS,CAAEC,mBAAmB,aAAnBA,mBAAmB,CAAEC,cAAc,aAAdA,cAAc,CACjE,GAAMC,cAAa,CAAGJ,SAAS,CAACN,EAAE,CAAC,CAEnC,GAAI,CAACC,OAAO,CAAE,mBAAO,0CAA2B,CAEhD,GAAMU,kBAAiB,CAAG,QAApBA,kBAAiB,EAAS,CAC9B,GAAID,aAAa,GAAK,CAAC,CAAEH,SAAS,CAACH,MAAM,CAACJ,EAAE,CAAC,CAAC,CAC9CK,QAAQ,CAAC,OAAO,CAAC,CACnB,CAAC,CAED,mBACE,YAAK,SAAS,CAAEO,MAAM,CAACC,WAAY,uBACjC,aAAK,SAAS,CAAED,MAAM,CAACE,WAAY,wBACjC,YAAK,GAAG,CAAEb,OAAO,CAACc,YAAa,CAAC,GAAG,CAAEd,OAAO,CAACe,IAAK,EAAG,cACrD,oBAAKf,OAAO,CAACgB,WAAW,EAAM,cAC9B,mBAAIhB,OAAO,CAACiB,WAAW,EAAK,cAC5B,gCAAYjB,OAAO,CAACkB,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,GAAK,cACzC,aAAK,SAAS,CAAER,MAAM,CAACS,eAAgB,wBACrC,eAAQ,OAAO,CAAE,yBAAMZ,eAAc,CAACR,OAAO,CAACD,EAAE,CAAC,EAAC,eAAW,cAC7D,cACE,IAAI,CAAC,QAAQ,CACb,KAAK,CAAEM,SAAS,CAACL,OAAO,CAACD,EAAE,CAAE,CAC7B,QAAQ,CAAE,kBAACsB,CAAC,QAAKd,oBAAmB,CAACe,QAAQ,CAACD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAExB,OAAO,CAACD,EAAE,CAAC,EAAC,EAC3E,cACF,eAAQ,OAAO,CAAE,yBAAMO,UAAS,CAACN,OAAO,CAACD,EAAE,CAAC,EAAC,eAAW,GACpD,cACN,oCACE,gBAAQ,SAAS,CAAEY,MAAM,CAACc,aAAc,CAAC,OAAO,CAAE,yBAAMnB,UAAS,CAACH,MAAM,CAACJ,EAAE,CAAC,CAAC,EAAC,0BAC/DU,aAAa,CAAG,CAAC,eAAI,gCAAKA,aAAa,OAAK,GAClD,cACT,eAAQ,SAAS,CAAEE,MAAM,CAACc,aAAc,CAAC,OAAO,CAAEf,iBAAkB,qBAE3D,GACL,GACF,EACF,CAEV,CAAC,CAED,cAAeZ,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}